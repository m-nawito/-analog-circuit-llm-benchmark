Version 4
SHEET 1 1452 680
WIRE -336 -288 -368 -288
WIRE -48 -288 -336 -288
WIRE 112 -288 -48 -288
WIRE -368 -192 -368 -288
WIRE 112 -176 112 -288
WIRE 192 -128 112 -128
WIRE 32 -96 -256 -96
WIRE 64 -96 32 -96
WIRE -48 -64 -48 -288
WIRE 112 0 112 -80
WIRE 112 16 112 0
WIRE 240 16 112 16
WIRE 384 16 240 16
WIRE -48 48 -48 16
WIRE 32 48 -48 48
WIRE -48 80 -48 48
WIRE 112 80 112 16
WIRE 384 80 384 16
WIRE -48 128 -96 128
WIRE 160 128 112 128
WIRE 32 160 32 48
WIRE 32 160 0 160
WIRE 64 160 32 160
WIRE -368 256 -368 -112
WIRE -256 256 -256 -16
WIRE -256 256 -368 256
WIRE -96 256 -96 128
WIRE -96 256 -256 256
WIRE -48 256 -48 176
WIRE -48 256 -96 256
WIRE 112 256 112 176
WIRE 112 256 -48 256
WIRE 160 256 160 128
WIRE 160 256 112 256
WIRE 192 256 192 -128
WIRE 192 256 160 256
WIRE 240 256 240 80
WIRE 240 256 192 256
WIRE 384 256 384 160
WIRE 384 256 240 256
WIRE -368 272 -368 256
FLAG -368 272 0
FLAG -336 -288 vdd
FLAG 32 -96 in
FLAG 112 0 out
FLAG 32 48 vb
SYMBOL nmos4 64 -176 R0
SYMATTR InstName M1
SYMATTR Value nmos_3p3
SYMATTR Value2 l={Lf} w={Wf}
SYMBOL EuroSYM\\voltage3 -368 -208 R0
WINDOW 0 24 16 Left 2
WINDOW 3 24 104 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd
SYMATTR Value {VDD}
SYMBOL EuroSYM\\voltage3 -256 -112 R0
WINDOW 0 24 16 Left 2
WINDOW 3 24 104 Left 2
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 1.3
SYMATTR Value2 AC 1
SYMBOL cap 224 16 R0
SYMATTR InstName CL
SYMATTR Value 5p
SYMBOL res -32 -80 M0
SYMATTR InstName Rb
SYMATTR Value {Rbias}
SYMBOL nmos4 64 80 R0
SYMATTR InstName M2
SYMATTR Value nmos_3p3
SYMATTR Value2 l={Lsink} w={Wsink}
SYMBOL nmos4 0 80 M0
SYMATTR InstName M3
SYMATTR Value nmos_3p3
SYMATTR Value2 l={Lsink} w={Wsink}
SYMBOL current 384 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName ITEST
SYMATTR Value 0
TEXT -824 -352 Left 2 !.lib 'GF180nm_sm141064_simplified.lib'
TEXT -824 -280 Left 2 !;op
TEXT -824 -176 Left 2 !.ac dec 200 10 100Meg
TEXT -840 -704 Left 2 !.param VDD = 3.3\n.param ID  = 200u\n* Follower device sizing (strong gm, safe L)\n.param Lf = 0.5u\n.param Wf = 30u\n* Current mirror devices (higher ro & compliance)\n.param Lsink = 1u\n.param Wsink = 50u\n* Estimate of VGS for the 200 uA diode device (tweak if you like)\n.param VGSref = 0.95\n.param Rbias  = (VDD - VGSref)/ID\n.temp 27
TEXT -816 -96 Left 2 ;.tf v(out) ITEST
