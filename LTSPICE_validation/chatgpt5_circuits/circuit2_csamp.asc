Version 4
SHEET 1 1452 680
WIRE -608 -256 -640 -256
WIRE 96 -256 -608 -256
WIRE 432 -256 96 -256
WIRE -640 -160 -640 -256
WIRE 432 -160 432 -176
WIRE 496 -160 432 -160
WIRE 528 -160 496 -160
WIRE 640 -160 592 -160
WIRE 752 -160 640 -160
WIRE 80 -144 16 -144
WIRE 96 -144 96 -176
WIRE 96 -144 80 -144
WIRE 432 -144 432 -160
WIRE 16 -128 16 -144
WIRE 464 -96 432 -96
WIRE 16 -80 -16 -80
WIRE 640 -80 640 -160
WIRE 752 -80 752 -160
WIRE -304 -64 -528 -64
WIRE -272 -64 -304 -64
WIRE -224 -64 -272 -64
WIRE 96 -64 96 -144
WIRE 144 -64 96 -64
WIRE 240 -64 224 -64
WIRE 272 -64 240 -64
WIRE 384 -64 272 -64
WIRE -272 -48 -272 -64
WIRE 96 -48 96 -64
WIRE 96 -48 64 -48
WIRE 432 0 432 -48
WIRE 464 0 464 -96
WIRE 464 0 432 0
WIRE -16 16 -16 -80
WIRE 16 16 16 -32
WIRE 16 16 -16 16
WIRE -160 48 -160 -64
WIRE 240 48 240 -64
WIRE 240 48 -160 48
WIRE -640 96 -640 -80
WIRE -528 96 -528 16
WIRE -528 96 -640 96
WIRE -272 96 -272 32
WIRE -272 96 -528 96
WIRE 16 96 16 16
WIRE 16 96 -272 96
WIRE 432 96 432 0
WIRE 432 96 16 96
WIRE 640 96 640 -16
WIRE 640 96 432 96
WIRE 752 96 752 0
WIRE 752 96 640 96
WIRE -640 112 -640 96
FLAG -640 112 0
FLAG -608 -256 vdd
FLAG 272 -64 gate
FLAG -304 -64 in
FLAG 496 -160 out
FLAG 640 -160 load
FLAG 80 -144 vbias
SYMBOL nmos4 384 -144 R0
SYMATTR InstName M1
SYMATTR Value nmos_3p3
SYMATTR Value2 l={L1} w={W1}
SYMBOL EuroSYM\\voltage3 -640 -176 R0
WINDOW 0 24 16 Left 2
WINDOW 3 24 104 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd
SYMATTR Value {VDD}
SYMBOL res 112 -272 M0
SYMATTR InstName RB1
SYMATTR Value {RB}
SYMBOL res 416 -272 R0
SYMATTR InstName RD1
SYMATTR Value {RD}
SYMBOL EuroSYM\\voltage3 -528 -80 R0
WINDOW 0 24 16 Left 2
WINDOW 3 24 104 Left 2
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 0
SYMATTR Value2 AC 1
SYMBOL cap 528 -144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Cout1
SYMATTR Value {Cout}
SYMBOL cap 624 -80 R0
SYMATTR InstName CLOAD
SYMATTR Value {CL}
SYMBOL res 736 -96 R0
SYMATTR InstName RLOAD
SYMATTR Value {RL}
SYMBOL nmos4 64 -128 M0
SYMATTR InstName MREF
SYMATTR Value nmos_3p3
SYMATTR Value2 l={L1} w={Wref}
SYMBOL res 240 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RG1
SYMATTR Value {RG}
SYMBOL res -256 -64 M0
SYMATTR InstName RSRC
SYMATTR Value {RSIG}
SYMBOL cap -224 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName CIN1
SYMATTR Value {Cin}
TEXT -824 -352 Left 2 !.lib 'GF180nm_sm141064_simplified.lib'
TEXT -944 -304 Left 2 !.op
TEXT -944 -200 Left 2 !.ac dec 100 10 100Meg
TEXT -840 160 Left 2 !.param  VDD=3.3\n.param  L1=0.5u\n* Bias target: Iref ~20uA -> Vov ~0.11 V -> Wref ~15.6u for L=0.5u (first cut)\n.param  Wref= 15.6u\n* Main device current scaling K ~ 5 => ID1 ~100uA\n.param  Kscale=1.0           ; stepped 0.8/1.0/1.2 to emulate ID ±20%\n.param  W1 = {Kscale*5*Wref} ; ~78u at Kscale=1\n.param  RD=20k\n.param  RB=124k              ; sets Iref approx 20uA with VGS ~0.81V at 3.3V\n.param  RG=10meg\n.param  Cin=1u\n.param  Cout=1u\n.param  RL=10k\n.param  CL=1p\n.param  RSIG=50\n.temp 27
